import { resolve } from "path";
import TsconfigPathsPlugin from "tsconfig-paths-webpack-plugin";

function resolveFromRoot(...args) {
  return resolve(process.cwd(), ...args);
}

const config = {
  mode: "production",
  entry: "./src/index.js",
  output: {
    path: resolveFromRoot("dist"),
    filename: "index.js",
  },
  resolve: {
    plugins: [
      new TsconfigPathsPlugin({ configFile: resolveFromRoot("tsconfig.json"), extensions: [".js", ".ts", ".tsx"] }),
    ],
  }
};

export default config;
